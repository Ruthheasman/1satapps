<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Break-Even Calculator - $0.50</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        h1 {
            color: #333;
            font-size: 32px;
            margin-bottom: 5px;
        }
        .price {
            color: #667eea;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .tagline {
            color: #666;
            font-size: 16px;
        }
        .main-grid {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .inputs-panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            height: fit-content;
        }
        .results-panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .section {
            margin-bottom: 30px;
        }
        .section h2 {
            color: #333;
            font-size: 18px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }
        .input-group {
            margin-bottom: 20px;
        }
        .input-group label {
            display: block;
            color: #666;
            font-size: 13px;
            margin-bottom: 6px;
            font-weight: 500;
        }
        .input-wrapper {
            position: relative;
        }
        .input-wrapper .currency {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
            font-weight: 600;
        }
        input[type="number"] {
            width: 100%;
            padding: 12px 15px 12px 35px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.2s;
            font-family: inherit;
        }
        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            background: #f8f9ff;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 25px;
            border-radius: 15px;
            color: white;
            margin-bottom: 20px;
        }
        .metric-card h3 {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 8px;
            font-weight: 500;
        }
        .metric-card .value {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .metric-card .subtitle {
            font-size: 13px;
            opacity: 0.8;
        }
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        .mini-metric {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e8e9ff;
        }
        .mini-metric h3 {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .mini-metric .value {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }
        .chart-container {
            margin: 30px 0;
            background: #f8f9ff;
            padding: 20px;
            border-radius: 12px;
        }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            width: 100%;
            margin-top: 10px;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .alert {
            background: #fff3cd;
            border: 2px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        .alert.danger {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }
        .alert.success {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        .projections {
            margin-top: 30px;
        }
        .projections table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }
        .projections th {
            background: #f8f9ff;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #667eea;
            border-bottom: 2px solid #e8e9ff;
        }
        .projections td {
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        .projections tr:hover {
            background: #f8f9ff;
        }
        .highlight {
            background: #fff3cd !important;
            font-weight: 600;
        }
        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            .metric-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 600px) {
            .metric-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Break-Even Calculator for Startups</h1>
            <div class="price">$0.50 per calculation</div>
            <p class="tagline">Know exactly when you'll be profitable and how long your runway is. Make data-driven decisions for your startup.</p>
        </div>

        <div class="main-grid">
            <div class="inputs-panel">
                <div class="section">
                    <h2>Fixed Costs (Monthly)</h2>
                    <div class="input-group">
                        <label>Rent / Office Space</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="rent" value="2000" min="0" step="100">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Salaries & Payroll</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="salaries" value="15000" min="0" step="500">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Software & Tools</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="software" value="500" min="0" step="50">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Marketing & Advertising</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="marketing" value="3000" min="0" step="100">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Other Fixed Costs</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="other" value="1000" min="0" step="100">
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>Revenue & Unit Economics</h2>
                    <div class="input-group">
                        <label>Price per Unit / Customer</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="unitPrice" value="50" min="0" step="1">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Variable Cost per Unit</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="variableCost" value="10" min="0" step="1">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Current Monthly Customers</label>
                        <div class="input-wrapper">
                            <span class="currency">#</span>
                            <input type="number" id="currentCustomers" value="100" min="0" step="1">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Expected Monthly Growth (%)</label>
                        <div class="input-wrapper">
                            <span class="currency">%</span>
                            <input type="number" id="growthRate" value="10" min="0" max="100" step="1">
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>Runway</h2>
                    <div class="input-group">
                        <label>Cash in Bank</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="cashInBank" value="100000" min="0" step="1000">
                        </div>
                    </div>
                </div>

                <button class="btn" id="calculateBtn">Generate Report - $0.50</button>
            </div>

            <div class="results-panel">
                <div id="resultsContainer">
                    <div class="metric-card">
                        <h3>Break-Even Point</h3>
                        <div class="value" id="breakEvenUnits">-</div>
                        <div class="subtitle">units/customers per month</div>
                    </div>

                    <div class="metric-grid">
                        <div class="mini-metric">
                            <h3>Total Fixed Costs</h3>
                            <div class="value" id="totalFixed">$0</div>
                        </div>
                        <div class="mini-metric">
                            <h3>Contribution Margin</h3>
                            <div class="value" id="contributionMargin">$0</div>
                        </div>
                        <div class="mini-metric">
                            <h3>Current Monthly Revenue</h3>
                            <div class="value" id="currentRevenue">$0</div>
                        </div>
                        <div class="mini-metric">
                            <h3>Current Runway</h3>
                            <div class="value" id="runway">0 months</div>
                        </div>
                    </div>

                    <div id="alertContainer"></div>

                    <div class="chart-container">
                        <canvas id="breakEvenChart"></canvas>
                    </div>

                    <div class="projections">
                        <h2 style="margin-bottom: 15px;">12-Month Projection</h2>
                        <div style="overflow-x: auto;">
                            <table id="projectionsTable">
                                <thead>
                                    <tr>
                                        <th>Month</th>
                                        <th>Customers</th>
                                        <th>Revenue</th>
                                        <th>Costs</th>
                                        <th>Profit/Loss</th>
                                        <th>Cash Balance</th>
                                    </tr>
                                </thead>
                                <tbody id="projectionsBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        let chart = null;

        // Get all inputs
        const inputs = {
            rent: document.getElementById('rent'),
            salaries: document.getElementById('salaries'),
            software: document.getElementById('software'),
            marketing: document.getElementById('marketing'),
            other: document.getElementById('other'),
            unitPrice: document.getElementById('unitPrice'),
            variableCost: document.getElementById('variableCost'),
            currentCustomers: document.getElementById('currentCustomers'),
            growthRate: document.getElementById('growthRate'),
            cashInBank: document.getElementById('cashInBank')
        };

        // Auto-calculate on input change
        Object.values(inputs).forEach(input => {
            input.addEventListener('input', calculate);
        });

        // Initial calculation
        calculate();

        function calculate() {
            // Get values
            const fixedCosts = {
                rent: parseFloat(inputs.rent.value) || 0,
                salaries: parseFloat(inputs.salaries.value) || 0,
                software: parseFloat(inputs.software.value) || 0,
                marketing: parseFloat(inputs.marketing.value) || 0,
                other: parseFloat(inputs.other.value) || 0
            };

            const totalFixedCosts = Object.values(fixedCosts).reduce((a, b) => a + b, 0);
            const unitPrice = parseFloat(inputs.unitPrice.value) || 0;
            const variableCost = parseFloat(inputs.variableCost.value) || 0;
            const currentCustomers = parseFloat(inputs.currentCustomers.value) || 0;
            const growthRate = parseFloat(inputs.growthRate.value) || 0;
            const cashInBank = parseFloat(inputs.cashInBank.value) || 0;

            // Calculate contribution margin
            const contributionMargin = unitPrice - variableCost;

            // Calculate break-even point
            const breakEvenUnits = contributionMargin > 0 ? Math.ceil(totalFixedCosts / contributionMargin) : 0;

            // Current revenue and profit
            const currentRevenue = currentCustomers * unitPrice;
            const currentVariableCosts = currentCustomers * variableCost;
            const currentProfit = currentRevenue - currentVariableCosts - totalFixedCosts;

            // Update display
            document.getElementById('breakEvenUnits').textContent = breakEvenUnits.toLocaleString();
            document.getElementById('totalFixed').textContent = '$' + totalFixedCosts.toLocaleString();
            document.getElementById('contributionMargin').textContent = '$' + contributionMargin.toFixed(2);
            document.getElementById('currentRevenue').textContent = '$' + currentRevenue.toLocaleString();

            // Calculate runway
            const monthlyBurn = Math.abs(Math.min(currentProfit, 0));
            const runway = monthlyBurn > 0 ? Math.floor(cashInBank / monthlyBurn) : '‚àû';
            document.getElementById('runway').textContent = runway === '‚àû' ? 'Profitable!' : runway + ' months';

            // Show alerts
            showAlerts(currentCustomers, breakEvenUnits, runway, currentProfit);

            // Generate projections
            generateProjections(currentCustomers, growthRate, unitPrice, variableCost, totalFixedCosts, cashInBank, breakEvenUnits);

            // Update chart
            updateChart(currentCustomers, growthRate, unitPrice, variableCost, totalFixedCosts, breakEvenUnits);
        }

        function showAlerts(current, breakEven, runway, profit) {
            const container = document.getElementById('alertContainer');
            container.innerHTML = '';

            if (profit >= 0) {
                container.innerHTML = '<div class="alert success"><strong>üéâ Congratulations!</strong> You\'re currently profitable!</div>';
            } else if (current < breakEven) {
                const needed = breakEven - current;
                container.innerHTML = `<div class="alert danger"><strong>‚ö†Ô∏è Not at break-even yet.</strong> You need ${needed.toLocaleString()} more customers to break even.</div>`;
            }

            if (runway !== '‚àû' && runway < 6 && profit < 0) {
                container.innerHTML += `<div class="alert danger"><strong>üö® Low runway!</strong> You have only ${runway} months of cash left. Consider reducing costs or increasing revenue.</div>`;
            } else if (runway !== '‚àû' && runway < 12 && profit < 0) {
                container.innerHTML += `<div class="alert"><strong>‚è∞ Moderate runway.</strong> You have ${runway} months of cash. Plan your next fundraise or focus on growth.</div>`;
            }
        }

        function generateProjections(startCustomers, growthRate, price, varCost, fixedCosts, startCash, breakEven) {
            const tbody = document.getElementById('projectionsBody');
            tbody.innerHTML = '';

            let customers = startCustomers;
            let cash = startCash;
            let breakEvenReached = false;
            let breakEvenMonth = null;

            for (let month = 1; month <= 12; month++) {
                const revenue = customers * price;
                const totalVariableCosts = customers * varCost;
                const totalCosts = totalVariableCosts + fixedCosts;
                const profit = revenue - totalCosts;
                cash += profit;

                const isBreakEven = customers >= breakEven && !breakEvenReached;
                if (isBreakEven) {
                    breakEvenReached = true;
                    breakEvenMonth = month;
                }

                const row = document.createElement('tr');
                if (isBreakEven) {
                    row.className = 'highlight';
                }

                row.innerHTML = `
                    <td>Month ${month}${isBreakEven ? ' ‚≠ê' : ''}</td>
                    <td>${Math.round(customers).toLocaleString()}</td>
                    <td>$${revenue.toLocaleString(undefined, {maximumFractionDigits: 0})}</td>
                    <td>$${totalCosts.toLocaleString(undefined, {maximumFractionDigits: 0})}</td>
                    <td style="color: ${profit >= 0 ? '#28a745' : '#dc3545'}; font-weight: 600;">
                        ${profit >= 0 ? '+' : ''}$${profit.toLocaleString(undefined, {maximumFractionDigits: 0})}
                    </td>
                    <td style="font-weight: 600; color: ${cash >= 0 ? '#333' : '#dc3545'};">
                        $${cash.toLocaleString(undefined, {maximumFractionDigits: 0})}
                    </td>
                `;

                tbody.appendChild(row);

                // Grow customers for next month
                customers = customers * (1 + growthRate / 100);
            }
        }

        function updateChart(startCustomers, growthRate, price, varCost, fixedCosts, breakEven) {
            const labels = [];
            const revenueData = [];
            const costData = [];
            const profitData = [];

            let customers = startCustomers;

            for (let month = 0; month <= 12; month++) {
                labels.push(month === 0 ? 'Now' : `M${month}`);

                const revenue = customers * price;
                const totalCosts = (customers * varCost) + fixedCosts;
                const profit = revenue - totalCosts;

                revenueData.push(revenue);
                costData.push(totalCosts);
                profitData.push(profit);

                customers = customers * (1 + growthRate / 100);
            }

            const ctx = document.getElementById('breakEvenChart').getContext('2d');

            if (chart) {
                chart.destroy();
            }

            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Revenue',
                            data: revenueData,
                            borderColor: '#28a745',
                            backgroundColor: 'rgba(40, 167, 69, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Total Costs',
                            data: costData,
                            borderColor: '#dc3545',
                            backgroundColor: 'rgba(220, 53, 69, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Profit/Loss',
                            data: profitData,
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Revenue vs Costs - 12 Month Projection',
                            font: {
                                size: 16,
                                weight: 'bold'
                            }
                        },
                        legend: {
                            display: true,
                            position: 'bottom'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    label += '$' + context.parsed.y.toLocaleString(undefined, {maximumFractionDigits: 0});
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        }
                    }
                }
            });
        }

        // Download report
        document.getElementById('calculateBtn').addEventListener('click', () => {
            // In production, integrate Stripe payment here

            // Generate a downloadable report
            const report = generateReport();
            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `break-even-analysis-${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);

            alert('Report downloaded! In production, this would be a $0.50 charge.');
        });

        function generateReport() {
            const breakEven = document.getElementById('breakEvenUnits').textContent;
            const totalFixed = document.getElementById('totalFixed').textContent;
            const margin = document.getElementById('contributionMargin').textContent;
            const revenue = document.getElementById('currentRevenue').textContent;
            const runway = document.getElementById('runway').textContent;

            return `BREAK-EVEN ANALYSIS REPORT
Generated: ${new Date().toLocaleString()}

========================================
KEY METRICS
========================================
Break-Even Point: ${breakEven} customers/month
Total Fixed Costs: ${totalFixed}/month
Contribution Margin: ${margin} per unit
Current Monthly Revenue: ${revenue}
Current Runway: ${runway}

========================================
FIXED COSTS BREAKDOWN
========================================
Rent/Office: $${inputs.rent.value}
Salaries: $${inputs.salaries.value}
Software: $${inputs.software.value}
Marketing: $${inputs.marketing.value}
Other: $${inputs.other.value}

========================================
UNIT ECONOMICS
========================================
Price per Unit: $${inputs.unitPrice.value}
Variable Cost per Unit: $${inputs.variableCost.value}
Contribution Margin: ${margin}

========================================
GROWTH ASSUMPTIONS
========================================
Current Customers: ${inputs.currentCustomers.value}
Monthly Growth Rate: ${inputs.growthRate.value}%
Cash in Bank: $${inputs.cashInBank.value}

========================================
RECOMMENDATIONS
========================================
${generateRecommendations()}

Report generated by Break-Even Calculator
https://yoursite.com
`;
        }

        function generateRecommendations() {
            const current = parseFloat(inputs.currentCustomers.value) || 0;
            const breakEven = parseInt(document.getElementById('breakEvenUnits').textContent.replace(/,/g, '')) || 0;
            const runway = document.getElementById('runway').textContent;

            let recs = [];

            if (current < breakEven) {
                recs.push('‚Ä¢ Focus on customer acquisition to reach break-even point');
                recs.push('‚Ä¢ Consider reducing fixed costs if possible');
                recs.push('‚Ä¢ Explore increasing prices or reducing variable costs');
            } else {
                recs.push('‚Ä¢ You\'re at or above break-even - great job!');
                recs.push('‚Ä¢ Focus on scaling profitably');
            }

            if (runway !== 'Profitable!' && parseInt(runway) < 6) {
                recs.push('‚Ä¢ URGENT: Low runway - consider fundraising immediately');
                recs.push('‚Ä¢ Cut non-essential costs to extend runway');
            }

            return recs.join('\n');
        }
    </script>
</body>
</html>
